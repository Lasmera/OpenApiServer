{
    "definitions": {
      "filter": {
        "description": "Абстрактное дерево описывающее фильтрацию",
        "oneOf": [
          {
            "$ref": "#/definitions/filterLogicalNode"
          },
          {
            "$ref": "#/definitions/filterComparisonNode"
          }
        ]
      },
      "filterLogicalNode": {
        "description": "Узел, объединяющий между собой другие узлы фильтра через конъюнкцию или дезъюнкцию",
        "type": "object",
        "required": [
          "operaotr",
          "nodes"
        ],
        "properties": {
          "isNegative": {
            "description": "если `True`, то логическое условие блока следует инвертировать",
            "type": "boolean",
            "default": false
          },
          "operator": {
            "description": "имя логического оператора сравнения",
            "type": "string",
            "enum": [
              "and",
              "or"
            ]
          },
          "nodes": {
            "description": "потомки узла дерева; массив узлов объединяемых одним логическим оператором",
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/components/schemas/filter"
            }
          }
        }
      },
      "filterComparisonNode": {
        "description": "Узел описывающий сравнение значения из источника с помощью указанного оператора",
        "type": "object",
        "required": [
          "operator"
        ],
        "properties": {
          "field": {
            "description": "поле фильтрумой сущности; источник значения",
            "type": "string"
          },
          "operator": {
            "description": "оператор сравнения",
            "type": "string",
            "enum": [
              "equal",
              "notEqual",
              "greaterThan",
              "greaterOrEqual",
              "lesserThan",
              "lesserOrEqual",
              "Like",
              "In"
            ]
          },
          "value": {
          },
          "isNegative": {
            "description": "если `True`, то результат сравнения следует инвертировать",
            "type": "boolean",
            "default": false
          }
        }
      }
    }
  }